# ==================== Express Backend Server Configuration ====================
# ALL values are required - no hardcoded defaults
# Update these for your environment

# Environment & Server Configuration
NODE_ENV=development
PORT=4000
HOST=0.0.0.0

# ==================== Database ====================
# PostgreSQL connection string (required)
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/wedocs

# ==================== Security ====================
# Generate a strong JWT secret for production
JWT_SECRET=your-super-secret-jwt-key-minimum-32-characters-required
BCRYPT_ROUNDS=12

# Basic Auth (for admin endpoints)
BASIC_AUTH_USERNAME=admin
BASIC_AUTH_PASSWORD=secure-admin-password

# ==================== CORS Configuration ====================
# Allow requests from frontend and other services
CORS_ORIGIN=http://localhost:3000,http://localhost:3001

# ==================== Rate Limiting ====================
# Rate limit window (milliseconds) and max requests per window
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
# Storage for rate limit data (memory or redis)
RATE_LIMIT_STORE=memory
# Optional: Redis URL for distributed rate limiting
REDIS_URL=redis://localhost:6379

# ==================== Logging ====================
# Log level: trace, debug, info, warn, error, fatal
LOG_LEVEL=info
# Pretty print logs (true/false)
LOG_PRETTY=true
# Store request logs in database (true/false)
LOG_REQUESTS_TO_DB=false
# Sample rate for database logging (0-1)
LOG_DB_SAMPLE_RATE=0
# Max body length to log
LOG_DB_MAX_BODY_LENGTH=2000

# ==================== Prisma Logging ====================
# Log Prisma database queries (true/false)
PRISMA_LOG_QUERIES=false

# ==================== Scalability & Infrastructure ====================
# Enable clustering for multi-core support
ENABLE_CLUSTER=true
# Number of worker processes (auto, or specific number)
WORKER_COUNT=auto
# Trust proxy headers from reverse proxy
TRUST_PROXY=true
# Request body size limit
REQUEST_BODY_LIMIT=1mb

# ==================== Caching ====================
# Enable in-memory caching
ENABLE_CACHE=true
# Cache TTL in seconds
CACHE_TTL_SECONDS=60
# Maximum number of cached items
CACHE_MAX_ITEMS=10000

# ==================== MinIO (S3 Storage) Configuration ====================
# MinIO server endpoint
MINIO_ENDPOINT=localhost
# MinIO API port
MINIO_PORT=9000
# Use SSL/TLS connection
MINIO_USE_SSL=false
# MinIO credentials
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
# Bucket name
MINIO_BUCKET=wedocs
# Optional: Public endpoint override for presigned URLs (e.g., host.docker.internal)
MINIO_PUBLIC_ENDPOINT=
MINIO_PUBLIC_PORT=
MINIO_PUBLIC_USE_SSL=false

# ==================== Microservices URLs ====================
# Update these URLs based on where your services are deployed
# Local development: http://localhost:port
# Docker: http://service-name:port
# Production: https://domain/service

# Python Manager (Document Processing Hub)
PYTHON_MANAGER_URL=http://localhost:5050

# Converter Module (PDF/Document Conversion)
CONVERTER_MODULE_URL=http://localhost:5001

# Reductor V2 (PII Removal - Older Version)
REDUCTOR_V2_MODULE_URL=http://localhost:5017

# Reductor V3 (PII Removal - Latest Version)
REDUCTOR_V3_MODULE_URL=http://localhost:5018

# AI Content Detector
AI_DETECTOR_MODULE_URL=http://localhost:5003

# Humanizer Service (Text Enhancement)
HUMANIZER_MODULE_URL=http://localhost:8000
